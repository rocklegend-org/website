(function(e){e.fn.extend({nscroll:function(t,n){if(t&&typeof t=="object"||typeof t=="undefined"){t=e.extend({},e.nscroll.defaults,t)}this.each(function(){new e.nscroll(this,t,n)});return}});e.nscroll=function(t,n,r){function i(r){scrollToTop=false;if(e(document).width()>=n.minWidth){if(e(window).scrollTop()+n.offsetY>e(t).data("offset-y")){if(e(window).scrollTop()-e(t).data("offset-y")+n.offsetY+e(t).outerHeight()<e(n.parent).height()){var i=e(window).scrollTop()-e(t).data("offset-y")+n.offsetY-e(t).css("top").replace(/[^-\d\.]/g,"");if(n.animate){e(t).stop().animate({top:"+="+i},n.speed,n.ease,n.callback)}else{e(t).stop().css("top","+="+i);n.callback()}}else{var i=e(n.parent).outerHeight()-e(t).outerHeight();if(n.animate){e(t).stop().animate({top:i},n.speed,n.ease,n.callback)}else{e(t).stop().css("top",i);n.callback()}}}else{scrollToTop=true}}else{scrollToTop=true}if(scrollToTop){if(n.animate){e(t).stop().animate({top:0},n.speed,n.ease,n.callback)}else{e(t).stop().css("top",0);n.callback()}}}function s(n){e(t).removeData("offset-y").css("top",0);e(window).unbind("."+e(t).attr(e.expando))}if(n&&typeof n=="string"){if(n=="destroy"){s(r)}return}e(t).data("offset-y",e(t).offset().top).css("position","relative");if(typeof n.offsetY!="number"){n.offsetY=e(n.offsetY).outerHeight()}e(window).on("scroll touchmove."+e(t).attr(e.expando)+" onscroll."+e(t).attr(e.expando)+" gesturechange."+e(t).attr(e.expando)+" resize."+e(t).attr(e.expando),i);i(r);var o=function(){var e={};return function(t,n,r){if(!r){r="Don't call this twice without a uniqueId"}if(e[r]){clearTimeout(e[r])}e[r]=setTimeout(t,n)}}()};e.nscroll.defaults={parent:"body",minWidth:0,offsetY:0,animate:true,speed:"10",ease:"swing",callback:function(){}}})(jQuery)