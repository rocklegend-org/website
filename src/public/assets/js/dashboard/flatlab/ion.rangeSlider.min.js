// Ion.RangeSlider
// version 1.8.1
// https://github.com/IonDen/ion.rangeSlider
(function(c,X,fa,T){var Y=0,O=function(){var c=T.userAgent,a=/msie\s\d+/i;return 0<c.search(a)&&(c=a.exec(c).toString(),c=c.split(" ")[1],9>c)?!0:!1}(),H;try{X.createEvent("TouchEvent"),H=!0}catch(ha){H=!1}var N={init:function(m){var a=c.extend({min:10,max:100,from:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:!1,hideMinMax:!1,hideFromTo:!1,prettify:!0,onChange:null,onLoad:null,onFinish:null},m),r='<span class="irs">',r=r+'<span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>',
r=r+'<span class="irs-min">0</span><span class="irs-max">1</span>',r=r+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>',r=r+"</span>",r=r+'<span class="irs-grid"></span>',I='<span class="irs-diapason"></span>',I=I+'<span class="irs-slider from"></span>',I=I+'<span class="irs-slider to"></span>';return this.each(function(){var d=c(this),m=this;if(!d.data("isActive")){d.data("isActive",!0);this.pluginCount=Y+=1;d.prop("value")&&(a.min=parseInt(d.prop("value").split(";")[0],
10),a.max=parseInt(d.prop("value").split(";")[1],10));"number"!==typeof a.from&&(a.from=a.min);"number"!==typeof a.to&&(a.to=a.max);"number"===typeof d.data("from")&&(a.from=parseInt(d.data("from"),10));"number"===typeof d.data("to")&&(a.to=parseInt(d.data("to"),10));d.data("step")&&(a.step=parseFloat(d.data("step")));d.data("type")&&(a.type=d.data("type"));d.data("prefix")&&(a.prefix=d.data("prefix"));d.data("postfix")&&(a.postfix=d.data("postfix"));d.data("hasgrid")&&(a.hasGrid=d.data("hasgrid"));
d.data("hideminmax")&&(a.hideMinMax=d.data("hideminmax"));d.data("hidefromto")&&(a.hideFromTo=d.data("hidefromto"));d.data("prettify")&&(a.prettify=d.data("prettify"));a.from<a.min&&(a.from=a.min);a.to>a.max&&(a.to=a.max);"double"===a.type&&(a.from>a.to&&(a.from=a.to),a.to<a.from&&(a.to=a.from));var w=function(b){b=b.toString();a.prettify&&(b=b.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 "));return b},N='<span class="irs" id="irs-'+this.pluginCount+'"></span>';d[0].style.display="none";d.before(N);
var x=c("#irs-"+this.pluginCount),C=c(X.body),Z=c(fa),l,D,E,y,z,s,t,e,n,u,U,$,q=!1,v=!1,P=!0,g={},V=0,J=0,K=0,k=0,B=0,L=0,W=0,Q=0,R=0,aa=0,p=0;parseInt(a.step,10)!==parseFloat(a.step)&&(p=a.step.toString().split(".")[1],p=Math.pow(10,p.length));this.updateData=function(b){P=!0;a=c.extend(a,b);x.find("*").off();C.off("mouseup.irs"+m.pluginCount);C.off("mousemove.irs"+m.pluginCount);x.html("");ba()};this.removeSlider=function(){x.find("*").off();C.off("mouseup.irs"+m.pluginCount);C.off("mousemove.irs"+
m.pluginCount);x.html("").remove();d.data("isActive",!1);d.show()};var ba=function(){x.html(r);l=x.find(".irs");D=l.find(".irs-min");E=l.find(".irs-max");y=l.find(".irs-from");z=l.find(".irs-to");s=l.find(".irs-single");$=x.find(".irs-grid");a.hideMinMax&&(D[0].style.display="none",E[0].style.display="none",K=J=0);a.hideFromTo&&(y[0].style.display="none",z[0].style.display="none",s[0].style.display="none");a.hideMinMax||(D.html(a.prefix+w(a.min)+a.postfix),E.html(a.prefix+w(a.max)+a.postfix),J=D.outerWidth(),
K=E.outerWidth());if("single"===a.type){if(l.append('<span class="irs-slider single"></span>'),t=l.find(".single"),t.on("mousedown",function(b){b.preventDefault();b.stopPropagation();F(b,c(this),null);v=q=!0;O&&c("*").prop("unselectable",!0)}),H)t.on("touchstart",function(b){b.preventDefault();b.stopPropagation();F(b.originalEvent.touches[0],c(this),null);v=q=!0})}else"double"===a.type&&(l.append(I),e=l.find(".from"),n=l.find(".to"),U=l.find(".irs-diapason"),M(),e.on("mousedown",function(b){b.preventDefault();
b.stopPropagation();c(this).addClass("last");n.removeClass("last");F(b,c(this),"from");v=q=!0;O&&c("*").prop("unselectable",!0)}),n.on("mousedown",function(b){b.preventDefault();b.stopPropagation();c(this).addClass("last");e.removeClass("last");F(b,c(this),"to");v=q=!0;O&&c("*").prop("unselectable",!0)}),H&&(e.on("touchstart",function(b){b.preventDefault();b.stopPropagation();c(this).addClass("last");n.removeClass("last");F(b.originalEvent.touches[0],c(this),"from");v=q=!0}),n.on("touchstart",function(b){b.preventDefault();
b.stopPropagation();c(this).addClass("last");e.removeClass("last");F(b.originalEvent.touches[0],c(this),"to");v=q=!0})),a.to===a.max&&e.addClass("last"));C.on("mouseup.irs"+m.pluginCount,function(){q&&(q=v=!1,u.removeAttr("id"),u=null,"double"===a.type&&M(),S(),O&&c("*").prop("unselectable",!1))});C.on("mousemove.irs"+m.pluginCount,function(b){q&&(V=b.pageX,ca())});H&&(Z.on("touchend",function(){q&&(q=v=!1,u.removeAttr("id"),u=null,"double"===a.type&&M(),S())}),Z.on("touchmove",function(b){q&&(V=
b.originalEvent.touches[0].pageX,ca())}));da();T();a.hasGrid&&ga()},da=function(){k=l.width();L=t?t.width():e.width();B=k-L},F=function(b,f,c){da();P=!1;u=f;u.attr("id","irs-active-slider");f=u.offset().left;aa=f+(b.pageX-f)-u.position().left;"single"===a.type?W=l.width()-L:"double"===a.type&&("from"===c?(Q=0,R=parseInt(n.css("left"),10)):(Q=parseInt(e.css("left"),10),R=l.width()-L))},M=function(){var b=e.width(),a=c.data(e[0],"x")||parseInt(e[0].style.left,10)||e.position().left,G=(c.data(n[0],"x")||
parseInt(n[0].style.left,10)||n.position().left)-a;U[0].style.left=a+b/2+"px";U[0].style.width=G+"px"},ca=function(){var b=V-aa,f;"single"===a.type?(0>b&&(b=0),b>W&&(b=W),S()):"double"===a.type&&(b<Q&&(b=Q),b>R&&(b=R),S(),M());f=Math.round(b);u[0].style.left=f+"px";c.data(u[0],"x",b)},S=function(){var b={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},f=a.max-a.min,G;"single"===a.type?(b.fromX=c.data(t[0],"x")||parseInt(t[0].style.left,10)||t.position().left,b.fromPers=100*(b.fromX/B),
G=f/100*b.fromPers+parseInt(a.min,10),b.fromNumber=Math.round(G/a.step)*a.step,p&&(b.fromNumber=parseInt(b.fromNumber*p,10)/p)):"double"===a.type&&(b.fromX=c.data(e[0],"x")||parseInt(e[0].style.left,10)||e.position().left,b.fromPers=100*(b.fromX/B),G=f/100*b.fromPers+parseInt(a.min,10),b.fromNumber=Math.round(G/a.step)*a.step,b.toX=c.data(n[0],"x")||parseInt(n[0].style.left,10)||n.position().left,b.toPers=100*(b.toX/B),f=f/100*b.toPers+parseInt(a.min,10),b.toNumber=Math.round(f/a.step)*a.step,p&&
(b.fromNumber=parseInt(b.fromNumber*p,10)/p,b.toNumber=parseInt(b.toNumber*p,10)/p));g=b;ea()},T=function(){var b={fromNumber:a.from,toNumber:a.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},f=a.max-a.min;"single"===a.type?(b.fromPers=100*((b.fromNumber-a.min)/f),b.fromX_pure=B/100*b.fromPers,b.fromX=Math.round(b.fromX_pure),t[0].style.left=b.fromX+"px",c.data(t[0],"x",b.fromX_pure)):"double"===a.type&&(b.fromPers=100*((b.fromNumber-a.min)/f),b.fromX_pure=B/100*b.fromPers,b.fromX=Math.round(b.fromX_pure),
e[0].style.left=b.fromX+"px",c.data(e[0],"x",b.fromX_pure),b.toPers=100*((b.toNumber-a.min)/f),b.toX_pure=B/100*b.toPers,b.toX=Math.round(b.toX_pure),n[0].style.left=b.toX+"px",c.data(n[0],"x",b.toX_pure),M());g=b;ea()},ea=function(){var b,f,c,A,e,h;h=L/2;"single"===a.type?(a.hideText||(y[0].style.display="none",z[0].style.display="none",c=a.prefix+w(g.fromNumber)+a.postfix,s.html(c),e=s.outerWidth(),h=g.fromX-e/2+h,0>h&&(h=0),h>k-e&&(h=k-e),s[0].style.left=h+"px",a.hideMinMax||a.hideFromTo||(D[0].style.display=
h<J?"none":"block",E[0].style.display=h+e>k-K?"none":"block")),d.attr("value",parseInt(g.fromNumber,10))):"double"===a.type&&(a.hideText||(b=a.prefix+w(g.fromNumber)+a.postfix,f=a.prefix+w(g.toNumber)+a.postfix,c=g.fromNumber!==g.toNumber?a.prefix+w(g.fromNumber)+" \u2014 "+a.prefix+w(g.toNumber)+a.postfix:a.prefix+w(g.fromNumber)+a.postfix,y.html(b),z.html(f),s.html(c),b=y.outerWidth(),f=g.fromX-b/2+h,0>f&&(f=0),f>k-b&&(f=k-b),y[0].style.left=f+"px",c=z.outerWidth(),A=g.toX-c/2+h,0>A&&(A=0),A>k-
c&&(A=k-c),z[0].style.left=A+"px",e=s.outerWidth(),h=g.fromX+(g.toX-g.fromX)/2-e/2+h,0>h&&(h=0),h>k-e&&(h=k-e),s[0].style.left=h+"px",f+b<A?(s[0].style.display="none",y[0].style.display="block",z[0].style.display="block"):(s[0].style.display="block",y[0].style.display="none",z[0].style.display="none"),a.hideMinMax||a.hideFromTo||(D[0].style.display=h<J||f<J?"none":"block",E[0].style.display=h+e>k-K||A+c>k-K?"none":"block")),d.attr("value",parseInt(g.fromNumber,10)+";"+parseInt(g.toNumber,10)));"function"===
typeof a.onChange&&a.onChange.call(this,g);"function"!==typeof a.onFinish||v||P||a.onFinish.call(this,g);"function"===typeof a.onLoad&&!v&&P&&a.onLoad.call(this,g)},ga=function(){x.addClass("irs-with-grid");var b,c="",d=0,d=0,e="";for(b=0;20>=b;b+=1)d=Math.floor(k/20*b),d>=k&&(d=k-1),e+='<span class="irs-grid-pol small" style="left: '+d+'px;"></span>';for(b=0;4>=b;b+=1)d=Math.floor(k/4*b),d>=k&&(d=k-1),e+='<span class="irs-grid-pol" style="left: '+d+'px;"></span>',p?(c=a.min+(a.max-a.min)/4*b,c=c/
a.step*a.step,c=parseInt(c*p,10)/p):(c=Math.round(a.min+(a.max-a.min)/4*b),c=Math.round(c/a.step)*a.step,c=w(c)),0===b?e+='<span class="irs-grid-text" style="left: '+d+'px; text-align: left;">'+c+"</span>":4===b?(d-=100,e+='<span class="irs-grid-text" style="left: '+d+'px; text-align: right;">'+c+"</span>"):(d-=50,e+='<span class="irs-grid-text" style="left: '+d+'px;">'+c+"</span>");$.html(e)};ba()}})},update:function(c){return this.each(function(){this.updateData(c)})},remove:function(){return this.each(function(){this.removeSlider()})}};
c.fn.ionRangeSlider=function(m){if(N[m])return N[m].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof m&&m)c.error("Method "+m+" does not exist for jQuery.ionRangeSlider");else return N.init.apply(this,arguments)}})(jQuery,document,window,navigator);